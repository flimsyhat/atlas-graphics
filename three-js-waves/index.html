<head>
    <style>
    body {
      font-family: Monospace;
      background-color: #ffffff;
      margin: 0px;
      overflow: hidden;
    }

    #container {
      width: 800px;
      margin: 50px auto;
    }

    canvas {
      outline: 1px solid #cccccc;
      box-shadow: 4px 4px 5px #888888;
    }

    </style>

    <script src="three.js"></script>
    <script src="jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="test.js"></script>

</head>

<body>
  <div id="container"></div>

  <script type="x-shader/x-vertex" id="vertexshader">
			uniform float amplitude;
			attribute float displacement;
      varying float distance;
			varying vec3 vNormal;
			void main() {
				vNormal = normal;
        distance = displacement * 0.5 + 0.5;
				vec3 newPosition = position + amplitude * normal * vec3( displacement );
				gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );
			}
  </script>

  <script type="x-shader/x-fragment" id="fragmentshader">
			varying vec3 vNormal;
      varying float distance;
			varying vec2 vUv;
			uniform vec3 color;
			void main() {
				vec3 light = vec3( 0.5, 0.2, 1.0 );
				light = normalize( light );
				float dProd = dot( vNormal, light );;
				gl_FragColor = vec4( vec3( dProd ) * vec3( color ) * vec3( distance, distance, distance ), distance );
			}
		</script>

</body>
